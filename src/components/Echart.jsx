import { useState, useEffect } from "react";
import ECharts from "echarts-for-react";

const Echart = () => {
  const [data, setData] = useState([]);
  const [todayCtl, setTodayCtl] = useState(null);
  const today = new Date();

  const getChartsData = [
    {
      workoutDay: "2023-11-06T00:00:00",
      tssActual: 116.25,
      tssPlanned: 133.2,
      ctl: 87.99942511371873,
      atl: 81.67344306753346,
      tsb: 11.399703123069173,
      ifActual: 0.6839842876067859,
      ifPlanned: 0.73,
    },
    {
      workoutDay: "2023-11-07T00:00:00",
      tssActual: 130.07999999999998,
      tssPlanned: 130,
      ctl: 89.0013435633921,
      atl: 88.58866548645724,
      tsb: 6.325982046185274,
      ifActual: 0.6363555141909532,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-08T00:00:00",
      tssActual: 151.39,
      tssPlanned: 142.7,
      ctl: 90.48678776426371,
      atl: 97.56028470267763,
      tsb: 0.4126780769348528,
      ifActual: 0.6725024169632849,
      ifPlanned: 0.69,
    },
    {
      workoutDay: "2023-11-09T00:00:00",
      tssActual: 129.93,
      tssPlanned: 130,
      ctl: 91.42591186511457,
      atl: 102.18452974515226,
      tsb: -7.073496938413925,
      ifActual: 0.14564586471078814,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-10T00:00:00",
      tssActual: 113.58,
      tssPlanned: 155.8,
      ctl: 91.95339015404042,
      atl: 103.81245406727336,
      tsb: -10.75861788003769,
      ifActual: 0.7004815228973582,
      ifPlanned: 0.72,
    },
    {
      workoutDay: "2023-11-11T00:00:00",
      tssActual: 100,
      tssPlanned: 100,
      ctl: 92.14497610275374,
      atl: 103.2678177719486,
      tsb: -11.859063913232944,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-12T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 89.95104810030723,
      atl: 88.51527237595594,
      tsb: -11.122841669194855,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-13T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 87.80935647887135,
      atl: 75.8702334651051,
      tsb: 1.4357757243512879,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-14T00:00:00",
      tssActual: 50,
      tssPlanned: 50,
      ctl: 86.90913370556488,
      atl: 72.17448582723294,
      tsb: 11.939123013766249,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-15T00:00:00",
      tssActual: 139,
      tssPlanned: 139,
      ctl: 88.14939242686096,
      atl: 81.72098785191395,
      tsb: 14.734647878331941,
      ifActual: 0.6809829569210044,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-16T00:00:00",
      tssActual: 128.1,
      tssPlanned: 128,
      ctl: 89.10059736907856,
      atl: 88.34656101592624,
      tsb: 6.42840457494701,
      ifActual: 0.1391297786470678,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-17T00:00:00",
      tssActual: 126.62,
      tssPlanned: 127,
      ctl: 89.9939164793386,
      atl: 93.8141951565082,
      tsb: 0.7540363531523155,
      ifActual: 0.7020835346293931,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-18T00:00:00",
      tssActual: 115.03,
      tssPlanned: 115,
      ctl: 90.59001370602101,
      atl: 96.84502441986417,
      tsb: -3.820278677169611,
      ifActual: 0.10386638414017128,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-19T00:00:00",
      tssActual: 49.96,
      tssPlanned: 50,
      ctl: 89.62263242730623,
      atl: 90.147163788455,
      tsb: -6.255010713843163,
      ifActual: 0.7594785930145145,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-20T00:00:00",
      tssActual: 91.57,
      tssPlanned: 70,
      ctl: 89.66899832189418,
      atl: 90.35042610439,
      tsb: -0.5245313611487745,
      ifActual: 0.6684249628402694,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-21T00:00:00",
      tssActual: 127.45,
      tssPlanned: 125,
      ctl: 90.5685459808967,
      atl: 95.65036523233428,
      tsb: -0.6814277824958168,
      ifActual: 0.14381004138536235,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-22T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 88.4121520289706,
      atl: 81.98602734200081,
      tsb: -5.0818192514375795,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-23T00:00:00",
      tssActual: 100,
      tssPlanned: 100,
      ctl: 88.68805317113797,
      atl: 84.55945200742927,
      tsb: 6.426124686969786,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-24T00:00:00",
      tssActual: 102.64,
      tssPlanned: 103,
      ctl: 89.02024238134896,
      atl: 87.14238743493938,
      tsb: 4.128601163708694,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-25T00:00:00",
      tssActual: 139.99,
      tssPlanned: 140,
      ctl: 90.23380803893589,
      atl: 94.69204637280518,
      tsb: 1.8778549464095846,
      ifActual: 0.1818044478081024,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-26T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 88.08538403800884,
      atl: 81.16461117669016,
      tsb: -4.458238333869289,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-27T00:00:00",
      tssActual: 168.37,
      tssPlanned: 168,
      ctl: 89.99692251329435,
      atl: 93.62252386573442,
      tsb: 6.920772861318682,
      ifActual: 0.6973680927692844,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-28T00:00:00",
      tssActual: 141.54,
      tssPlanned: 142,
      ctl: 91.2241386439302,
      atl: 100.46787759920093,
      tsb: -3.6256013524400714,
      ifActual: 0.6471045361326272,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-29T00:00:00",
      tssActual: 72.66,
      tssPlanned: 0,
      ctl: 90.78213534288425,
      atl: 96.49532365645794,
      tsb: -9.243738955270729,
      ifActual: 0.7878900474308271,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-11-30T00:00:00",
      tssActual: 100,
      tssPlanned: 100,
      ctl: 91.00160831091081,
      atl: 96.99599170553537,
      tsb: -5.713188313573696,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-01T00:00:00",
      tssActual: 115.57,
      tssPlanned: 0,
      ctl: 91.58657001779389,
      atl: 99.64942146188746,
      tsb: -5.994383394624563,
      ifActual: 0.7311184755767571,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-02T00:00:00",
      tssActual: 100.82,
      tssPlanned: 80,
      ctl: 91.80641358879879,
      atl: 99.8166469673321,
      tsb: -8.062851444093567,
      ifActual: 0.13664234303932646,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-03T00:00:00",
      tssActual: 26.37,
      tssPlanned: 0,
      ctl: 90.24840374144644,
      atl: 89.3242688291418,
      tsb: -8.010233378533314,
      ifActual: 0.5965433126747969,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-04T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 88.09963222379295,
      atl: 76.56365899640726,
      tsb: 0.9241349123046376,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-05T00:00:00",
      tssActual: 172.06,
      tssPlanned: 172,
      ctl: 90.09868859941693,
      atl: 90.20599342549193,
      tsb: 11.535973227385696,
      ifActual: 0.7509229802313331,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-06T00:00:00",
      tssActual: 132.15,
      tssPlanned: 110,
      ctl: 91.09991029943082,
      atl: 96.19799436470737,
      tsb: -0.10730482607499425,
      ifActual: 0.7584486005125972,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-07T00:00:00",
      tssActual: 70,
      tssPlanned: 70,
      ctl: 90.5975314827777,
      atl: 92.45542374117774,
      tsb: -5.098084065276552,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-08T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 88.44044739985442,
      atl: 79.24750606386664,
      tsb: -1.8578922584000424,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-09T00:00:00",
      tssActual: 109.88,
      tssPlanned: 110,
      ctl: 88.95091293795312,
      atl: 83.6235766261714,
      tsb: 9.192941335987783,
      ifActual: 0.6127506839462055,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-10T00:00:00",
      tssActual: 107.93,
      tssPlanned: 80,
      ctl: 89.40279596323995,
      atl: 87.09592282243263,
      tsb: 5.327336311781721,
      ifActual: 0.7831836548485003,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-11T00:00:00",
      tssActual: 125.94,
      tssPlanned: 130,
      ctl: 90.27272939268661,
      atl: 92.64507670494226,
      tsb: 2.306873140807326,
      ifActual: 0.5781196227417832,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-12T00:00:00",
      tssActual: 187.71,
      tssPlanned: 171.6,
      ctl: 92.59266440714646,
      atl: 106.22578003280765,
      tsb: -2.3723473122556413,
      ifActual: 0.7175117980577883,
      ifPlanned: 0.74,
    },
    {
      workoutDay: "2023-12-13T00:00:00",
      tssActual: 80,
      tssPlanned: 80,
      ctl: 92.29283906411916,
      atl: 102.47924002812084,
      tsb: -13.63311562566119,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-14T00:00:00",
      tssActual: 31.69,
      tssPlanned: 30,
      ctl: 90.84991432449728,
      atl: 92.366491452675,
      tsb: -10.186400964001677,
      ifActual: 0.5735955479925177,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-15T00:00:00",
      tssActual: 160.55,
      tssPlanned: 153.8,
      ctl: 92.50944017391402,
      atl: 102.10699267372144,
      tsb: -1.5165771281777296,
      ifActual: 0.8365118987050917,
      ifPlanned: 0.87,
    },
    {
      workoutDay: "2023-12-16T00:00:00",
      tssActual: 84.06,
      tssPlanned: 85,
      ctl: 92.30826302691607,
      atl: 99.5288508631898,
      tsb: -9.59755249980742,
      ifActual: 0.6536552645167496,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-17T00:00:00",
      tssActual: 109.66,
      tssPlanned: 104.2,
      ctl: 92.7213996215133,
      atl: 100.97615788273411,
      tsb: -7.220587836273737,
      ifActual: 0.7718369422824016,
      ifPlanned: 0.81,
    },
    {
      workoutDay: "2023-12-18T00:00:00",
      tssActual: 80,
      tssPlanned: 80,
      ctl: 92.41850915433442,
      atl: 97.97956389948638,
      tsb: -8.254758261220815,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-19T00:00:00",
      tssActual: 65.06,
      tssPlanned: 60,
      ctl: 91.76711607923122,
      atl: 93.2767690567026,
      tsb: -5.561054745151964,
      ifActual: 0.6879176870439074,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-20T00:00:00",
      tssActual: 239.25,
      tssPlanned: 225.8,
      ctl: 95.27861331544,
      atl: 114.13008776288794,
      tsb: -1.50965297747139,
      ifActual: 0.746291159566992,
      ifPlanned: 0.76,
    },
    {
      workoutDay: "2023-12-21T00:00:00",
      tssActual: 123.16,
      tssPlanned: 120,
      ctl: 95.94245585554857,
      atl: 115.42007522533252,
      tsb: -18.85147444744794,
      ifActual: 0.7058557238657844,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-22T00:00:00",
      tssActual: 117.45,
      tssPlanned: 108.4,
      ctl: 96.45454023994027,
      atl: 115.71006447885645,
      tsb: -19.47761936978395,
      ifActual: 0.7284522553641329,
      ifPlanned: 0.77,
    },
    {
      workoutDay: "2023-12-23T00:00:00",
      tssActual: 119.4,
      tssPlanned: 119.4,
      ctl: 97.00086071041788,
      atl: 116.2371981247341,
      tsb: -19.25552423891618,
      ifActual: 0,
      ifPlanned: 0.73,
    },
    {
      workoutDay: "2023-12-24T00:00:00",
      tssActual: 0,
      tssPlanned: 99.5,
      ctl: 97.06036402683651,
      atl: 113.84616982120066,
      tsb: -19.236337414316225,
      ifActual: 0,
      ifPlanned: 0.78,
    },
    {
      workoutDay: "2023-12-25T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 94.7494029785785,
      atl: 97.58243127531486,
      tsb: -16.78580579436415,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-26T00:00:00",
      tssActual: 0,
      tssPlanned: 80,
      ctl: 94.39822671718377,
      atl: 95.07065537884131,
      tsb: -2.8330282967363587,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-27T00:00:00",
      tssActual: 0,
      tssPlanned: 80,
      ctl: 94.05541179534606,
      atl: 92.91770461043541,
      tsb: -0.6724286616575341,
      ifActual: 0,
      ifPlanned: 0.73,
    },
    {
      workoutDay: "2023-12-28T00:00:00",
      tssActual: 0,
      tssPlanned: 80,
      ctl: 93.72075913355211,
      atl: 91.07231823751606,
      tsb: 1.1377071849106528,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2023-12-29T00:00:00",
      tssActual: 0,
      tssPlanned: 107.5,
      ctl: 94.04883629703896,
      atl: 93.4191299178709,
      tsb: 2.6484408960360497,
      ifActual: 0,
      ifPlanned: 0.91,
    },
    {
      workoutDay: "2023-12-30T00:00:00",
      tssActual: 0,
      tssPlanned: 76.5,
      ctl: 93.63100686139518,
      atl: 91.00211135817506,
      tsb: 0.6297063791680557,
      ifActual: 0,
      ifPlanned: 0.91,
    },
    {
      workoutDay: "2023-12-31T00:00:00",
      tssActual: 0,
      tssPlanned: 30,
      ctl: 92.11598288850482,
      atl: 82.28752402129291,
      tsb: 2.6288955032201216,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-01T00:00:00",
      tssActual: 0,
      tssPlanned: 60,
      ctl: 91.3513166292547,
      atl: 79.10359201825106,
      tsb: 9.828458867211907,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-02T00:00:00",
      tssActual: 0,
      tssPlanned: 240,
      ctl: 94.89057099522482,
      atl: 102.08879315850092,
      tsb: 12.247724611003633,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-03T00:00:00",
      tssActual: 0,
      tssPlanned: 230,
      ctl: 98.10746216200518,
      atl: 120.3618227072865,
      tsb: -7.1982221632761,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-04T00:00:00",
      tssActual: 0,
      tssPlanned: 170,
      ctl: 99.819189253386,
      atl: 127.45299089195986,
      tsb: -22.25436054528133,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-05T00:00:00",
      tssActual: 0,
      tssPlanned: 30,
      ctl: 98.15682760449586,
      atl: 113.53113505025131,
      tsb: -27.633801638573857,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-06T00:00:00",
      tssActual: 0,
      tssPlanned: 180,
      ctl: 100.10547456629358,
      atl: 123.02668718592969,
      tsb: -15.374307445755448,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-07T00:00:00",
      tssActual: 0,
      tssPlanned: 140,
      ctl: 101.05534421947706,
      atl: 125.4514461593683,
      tsb: -22.92121261963611,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-08T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 98.6492645952038,
      atl: 107.52981099374426,
      tsb: -24.39610193989124,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-09T00:00:00",
      tssActual: 0,
      tssPlanned: 60,
      ctl: 97.72904400960371,
      atl: 100.73983799463794,
      tsb: -8.88054639854046,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-10T00:00:00",
      tssActual: 0,
      tssPlanned: 160,
      ctl: 99.21168581889886,
      atl: 109.20557542397538,
      tsb: -3.0107939850342262,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-11T00:00:00",
      tssActual: 0,
      tssPlanned: 130,
      ctl: 99.94474091844889,
      atl: 112.1762075062646,
      tsb: -9.993889605076518,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-12T00:00:00",
      tssActual: 0,
      tssPlanned: 30,
      ctl: 98.2793899442001,
      atl: 100.43674929108394,
      tsb: -12.231466587815717,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-13T00:00:00",
      tssActual: 0,
      tssPlanned: 110,
      ctl: 98.55845208838582,
      atl: 101.80292796378623,
      tsb: -2.157359346883837,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-14T00:00:00",
      tssActual: 0,
      tssPlanned: 30,
      ctl: 96.9261079910433,
      atl: 91.54536682610248,
      tsb: -3.2444758754004113,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-15T00:00:00",
      tssActual: 0,
      tssPlanned: 260,
      ctl: 100.80881970554226,
      atl: 115.61031442237355,
      tsb: 5.380741164940815,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-16T00:00:00",
      tssActual: 0,
      tssPlanned: 225,
      ctl: 103.76575256969602,
      atl: 131.23741236203446,
      tsb: -14.801494716831286,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-17T00:00:00",
      tssActual: 0,
      tssPlanned: 20,
      ctl: 101.77132988946516,
      atl: 115.3463534531724,
      tsb: -27.471659792338443,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-18T00:00:00",
      tssActual: 0,
      tssPlanned: 50,
      ctl: 100.53867917781123,
      atl: 106.0111601027192,
      tsb: -13.575023563707234,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-19T00:00:00",
      tssActual: 0,
      tssPlanned: 250,
      ctl: 104.09728205453001,
      atl: 126.58099437375931,
      tsb: -5.47248092490797,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-20T00:00:00",
      tssActual: 0,
      tssPlanned: 190,
      ctl: 106.14258486275548,
      atl: 135.64085232036513,
      tsb: -22.483712319229298,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-21T00:00:00",
      tssActual: 0,
      tssPlanned: 30,
      ctl: 104.32966617554702,
      atl: 120.5493019888844,
      tsb: -29.498267457609643,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-22T00:00:00",
      tssActual: 0,
      tssPlanned: 260,
      ctl: 108.03610269517685,
      atl: 140.47083027618663,
      tsb: -16.219635813337376,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-23T00:00:00",
      tssActual: 0,
      tssPlanned: 240,
      ctl: 111.17810025005359,
      atl: 154.68928309387425,
      tsb: -32.43472758100978,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-24T00:00:00",
      tssActual: 0,
      tssPlanned: 70,
      ctl: 110.19766929171898,
      atl: 142.59081408046364,
      tsb: -43.51118284382066,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-25T00:00:00",
      tssActual: 0,
      tssPlanned: 50,
      ctl: 108.76439145143996,
      atl: 129.3635549261117,
      tsb: -32.393144788744664,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-26T00:00:00",
      tssActual: 0,
      tssPlanned: 220,
      ctl: 111.41285832164377,
      atl: 142.31161850809573,
      tsb: -20.59916347467174,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-27T00:00:00",
      tssActual: 0,
      tssPlanned: 200,
      ctl: 113.52207598065225,
      atl: 150.55281586408205,
      tsb: -30.898760186451966,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-28T00:00:00",
      tssActual: 0,
      tssPlanned: 60,
      ctl: 112.24774083825577,
      atl: 137.61669931207032,
      tsb: -37.0307398834298,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-29T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 109.57517558020206,
      atl: 117.95717083891742,
      tsb: -25.36895847381456,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-30T00:00:00",
      tssActual: 0,
      tssPlanned: 130,
      ctl: 110.06148092353058,
      atl: 119.67757500478636,
      tsb: -8.381995258715364,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-01-31T00:00:00",
      tssActual: 0,
      tssPlanned: 100,
      ctl: 109.82192185392272,
      atl: 116.86649286124545,
      tsb: -9.616094081255781,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-02-01T00:00:00",
      tssActual: 0,
      tssPlanned: 60,
      ctl: 108.6356856193055,
      atl: 108.74270816678181,
      tsb: -7.04457100732273,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-02-02T00:00:00",
      tssActual: 0,
      tssPlanned: 20,
      ctl: 106.52531215217918,
      atl: 96.06517842867012,
      tsb: -0.10702254747630491,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-02-03T00:00:00",
      tssActual: 0,
      tssPlanned: 40,
      ctl: 104.94137614855588,
      atl: 88.0558672245744,
      tsb: 10.46013372350906,
      ifActual: 0,
      ifPlanned: 0,
    },
    {
      workoutDay: "2024-02-04T00:00:00",
      tssActual: 0,
      tssPlanned: 0,
      ctl: 102.44277195454264,
      atl: 75.47645762106377,
      tsb: 16.885508923981476,
      ifActual: 0,
      ifPlanned: 0,
    },
  ];

  useEffect(() => {
    // Fetch the data from the external API
    // and set the data state variable
    setData(getChartsData);

    // Find the today's CTL in the localData
    const today = new Date();
    const todayCtl = getChartsData.find(
      (item) => new Date(item.workoutDay).toDateString() === today.toDateString()
    );

    if (todayCtl) {
      setTodayCtl(todayCtl.ctl);
    }
  }, []);

  const chartOptions = {
    backgroundColor: "rgb(248 250 252)", // Change background color to pink
    title: {
      text: `نمودار (امروز: ${todayCtl})`,
      subtext: "",
      top: "5%",
      left: "center",
    },
    xAxis: {
      type: "category",
      data: getChartsData.map((item) => item.workoutDay),
    },
    yAxis: {
      type: "value",
      min: 85, // set the minimum value for the yAxis
      max: 120,
    },
    series: [
      {
        type: "line",
        data: data.map((item) => item.ctl),
        itemStyle: {
          color: "red",
        },
      },
    ],
    grid: {
      backgroundColor: "#ff69b4", // Change this to the desired color
    },
    // Set responsive option to true
    responsive: true,
    // Set these options to ensure the chart fits the container
    resize: true,
    autoResize: true,
  };

  // Add annotation to point out today's CTL
  if (todayCtl) {
    chartOptions.annotations = [
      {
        symbol: "none",
        label: {
          text: "Today",
        },
        tooltip: {
          trigger: "mousemove",
          axisPointer: {
            type: "cross",
          },
        },
        data: [
          {
            x: today.toISOString(),
            y: todayCtl,
          },
        ],
      },
    ];
  }

  return (
    <div className=" w-full h-full mt-4  overflow-scroll mx-auto lg:max-w-[82vw] lg:mr-60">
      <ECharts option={chartOptions} />
    </div>
  );
};

export default Echart;
